# MBTI测试系统 - 环境变量配置示例
# 复制此文件为 .env 并填入实际配置值

# ==================== 服务器配置 ====================
PORT=3001
HOST=localhost
NODE_ENV=development
FRONTEND_URL=http://localhost:5173

# ==================== 数据库配置 ====================
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password_here
DB_NAME=mbti_test
DB_CONNECTION_LIMIT=10
DB_QUEUE_LIMIT=0
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000
DB_RECONNECT=true
DB_CHARSET=utf8mb4

# ==================== 安全配置 ====================
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=10
CORS_ORIGIN=http://localhost:5173

# ==================== 限流配置 ====================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=1000
ADMIN_RATE_LIMIT_MAX=100

# ==================== 请求体配置 ====================
JSON_LIMIT=10mb
URLENCODED_LIMIT=10mb

# ==================== 管理员配置 ====================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=password
ADMIN_SESSION_TIMEOUT=86400000

# ==================== 邮件配置 ====================
EMAIL_ENABLED=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASS=your_email_password
EMAIL_FROM_NAME=MBTI测试系统
EMAIL_FROM_ADDRESS=noreply@example.com

# ==================== 支付配置 ====================
PAYMENT_ENABLED=false
# 微信支付
WECHAT_APP_ID=your_wechat_app_id
WECHAT_MCH_ID=your_wechat_mch_id
WECHAT_KEY=your_wechat_key
WECHAT_NOTIFY_URL=${FRONTEND_URL}/api/payment/wechat/notify
# 支付宝
ALIPAY_APP_ID=your_alipay_app_id
ALIPAY_PRIVATE_KEY=your_alipay_private_key
ALIPAY_PUBLIC_KEY=your_alipay_public_key
ALIPAY_NOTIFY_URL=${FRONTEND_URL}/api/payment/alipay/notify

# ==================== 文件上传配置 ====================
UPLOAD_MAX_FILE_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif
UPLOAD_DIR=uploads
UPLOAD_PUBLIC_PATH=/uploads

# ==================== 日志配置 ====================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# ==================== Redis配置 ====================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=mbti:

# ==================== 系统配置 ====================
# 数据清理
CLEANUP_ENABLED=false
CLEANUP_INTERVAL=86400000
CLEANUP_RETENTION_DAYS=30
# 备份
BACKUP_ENABLED=false
BACKUP_INTERVAL=86400000
BACKUP_RETENTION_COUNT=7
BACKUP_PATH=backups
# 监控
MONITORING_ENABLED=false
HEALTH_CHECK_INTERVAL=30000
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=80
ALERT_DISK_THRESHOLD=90

# ==================== 前端配置 ====================
# Vite环境变量（前端使用）
VITE_API_BASE_URL=/api
VITE_APP_NAME=MBTI性格测试
VITE_APP_VERSION=1.0.0
VITE_DEBUG_MODE=false
VITE_PAYMENT_ENABLED=false
VITE_ANALYTICS_ENABLED=false
UPLOAD_MAX_SIZE=10mb
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=15

# 邮件配置（如果需要）
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASS=your_email_password

# Redis配置（如果需要缓存）
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# 文件存储配置
UPLOAD_PATH=uploads
STATIC_PATH=public